<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>E-Commerce Portal</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --pink:#ffb6c1;
      --pink-2:#ff91a4;
      --pale-pink:#fff5f7;
      --yellow:#ffda77;
      --muted:#6b3746;
    }
    body{
      margin:0;
      font-family:Arial, sans-serif;
      background:var(--pale-pink);
      color:var(--muted);
      scroll-behavior: smooth;
    }

    nav{
      background:var(--pink);
      padding:12px;
      display:flex;
      justify-content:center;
      gap:14px;
      position:sticky;
      top:0;
      z-index:10;
    }
    nav a{
      text-decoration:none;
      color:white;
      background:var(--yellow);
      padding:8px 12px;
      border-radius:8px;
      font-weight:600;
    }

    header{ text-align:center; padding:18px 10px;}
    h1{ margin:6px 0; color:#c73a67; }

    .form-row{
      display:flex;
      gap:20px;
      justify-content:space-evenly;
      padding:18px;
      flex-wrap:wrap;
    }
    .form-box{
      width:380px;
      background:#ffeceff0;
      border-radius:10px;
      padding:14px;
      border:1px solid #ffc9d6;
    }
    .form-box h2{ margin-top:0; color:#c73a67; }

    form{ display:block; }
    label{ display:block; margin:8px 0 4px; font-size:14px; }
    input{
      width:100%;
      padding:8px;
      border-radius:6px;
      border:1px solid #ffd6e0;
      background:#fff8fb;
      box-sizing:border-box;
    }
    .btn{
      margin-top:10px;
      padding:10px 14px;
      border:0;
      border-radius:8px;
      background:var(--pink-2);
      color:white;
      cursor:pointer;
      font-weight:600;
    }
    .btn:disabled{ opacity:0.6; cursor:not-allowed; }

    .error{
      color:#a72b4a;
      font-size:13px;
      margin-top:6px;
      min-height:18px;
    }

    .float-box{
      width:30%;
      float:left;
      margin:12px 1.66%;
      background:white;
      border-radius:10px;
      padding:12px;
      box-sizing:border-box;
      border:1px solid #ffe0e8;
    }
    .product-title{ font-weight:700; margin:8px 0; color:#d43b6b; }
    .price{ color:#c66a2a; font-weight:700; margin-bottom:8px; }

    .row{ display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }

    .clear{ clear:both; }

    .section-title{
      text-align:center;
      color:#c73a67;
      padding:18px 6px 6px;
      margin:0;
    }
    .info-list{
      width:80%;
      margin:12px auto;
      background:#fff3d9;
      padding:12px;
      border-radius:8px;
      border:1px solid #ffe3b3;
    }
    .small-box{
      width:48%;
      float:left;
      margin:12px 1%;
      background:#fff3d9;
      padding:12px;
      border-radius:8px;
      border:1px solid #ffe3b3;
      box-sizing:border-box;
    }

    textarea{
      width:100%;
      height:80px;
      padding:8px;
      border-radius:8px;
      border:1px solid #ffd6e0;
      background:#fff8fb;
    }

    #welcome{
      text-align:center;
      padding:10px;
      font-weight:700;
      color:#7a2a43;
      min-height:20px;
    }

    @media (max-width:900px){
      .float-box, .small-box{ width:90%; float:none; margin:12px auto; }
      .form-box{ width:90%; }
    }
  </style>
</head>
<body>

  <nav>
    <a href="#home">Home</a>
    <a href="#products">Products</a>
    <a href="#contact">Contact</a>
    <a href="#about">About</a>
  </nav>

  <header id="home">
    <h1>Shoppie - Delivery At Your Doorstep!</h1>
    <div id="welcome"></div>
  </header>

  <div class="form-row">

    <div class="form-box" aria-labelledby="regTitle">
      <h2 id="regTitle">Register</h2>
      <form id="regForm" onsubmit="return false;">
        <label for="regName">Full name</label>
        <input id="regName" type="text" placeholder="Your name">
        <label for="regEmail">Email</label>
        <input id="regEmail" type="email" placeholder="you@example.com">
        <label for="regPass">Password</label>
        <input id="regPass" type="password" placeholder="6+ characters">
        <div class="error" id="regError"></div>
        <button class="btn" type="button" onclick="doRegister()">Register</button>
      </form>
    </div>

    <div class="form-box" aria-labelledby="loginTitle">
      <h2 id="loginTitle">Login</h2>
      <form id="loginForm" onsubmit="return false;">
        <label for="loginEmail">Email</label>
        <input id="loginEmail" type="email" placeholder="you@example.com">
        <label for="loginPass">Password</label>
        <input id="loginPass" type="password" placeholder="your password">
        <div class="error" id="loginError"></div>
        <button class="btn" type="button" onclick="doLogin()">Login</button>
      </form>
    </div>
  </div>

  <h2 id="products" class="section-title">Products</h2>

  <div class="float-box">
    <div class="product-title">Pink Tote Bag</div>
    <div class="price">₹499</div>
    <div class="row">
      <button class="btn" onclick="addToCart(1)">Add to Cart</button>
      <button class="btn" onclick="toggleWishlist(1)">Wishlist</button>
    </div>
  </div>

  <div class="float-box">
    <div class="product-title">Yellow Notebook</div>
    <div class="price">₹199</div>
    <div class="row">
      <button class="btn" onclick="addToCart(2)">Add to Cart</button>
      <button class="btn" onclick="toggleWishlist(2)">Wishlist</button>
    </div>
  </div>

  <div class="float-box">
    <div class="product-title">Desk Lamp</div>
    <div class="price">₹799</div>
    <div class="row">
      <button class="btn" onclick="addToCart(3)">Add to Cart</button>
      <button class="btn" onclick="toggleWishlist(3)">Wishlist</button>
    </div>
  </div>

  <div class="clear"></div>

  <div class="small-box">
    <h3>Cart</h3>
    <div id="cartList">
      <p style="color:#a06;">Cart is empty</p>
    </div>
    <div style="text-align:center; margin-top:8px;">
      <button id="placeOrderBtn" class="btn" onclick="placeOrder()" disabled>Place Order</button>
    </div>
  </div>

  <div class="small-box">
    <h3>Orders</h3>
    <div id="ordersList">
      <p style="color:#a06;">No orders yet</p>
    </div>
  </div>

  <div class="clear"></div>

  <h2 class="section-title">Wishlist</h2>
  <div class="info-list" id="wishlistList">
    <p style="color:#a06;">No wishlist items</p>
  </div>

  <h2 class="section-title">Comments & Reviews</h2>
  <div class="form-box" style="width:80%; margin:10px auto;">
    <label for="reviewText">Write a review</label>
    <input id="reviewAuthor" placeholder="Your name (optional)">
    <textarea id="reviewText" placeholder="Type your review..."></textarea>
    <div class="error" id="reviewError"></div>
    <div style="text-align:right; margin-top:8px;">
      <button class="btn" onclick="postReview()">Post Review</button>
    </div>
  </div>
  <div id="reviewsList" class="info-list">
    <p style="color:#a06;">No reviews yet</p>
  </div>

  <h2 id="contact" class="section-title">Customer Care / Reporting</h2>
  <div class="form-box" style="width:60%; margin:12px auto;">
    <label for="contactName">Your name</label>
    <input id="contactName" placeholder="Name">
    <label for="contactEmail">Email</label>
    <input id="contactEmail" type="email" placeholder="you@example.com">
    <label for="contactIssue">Issue</label>
    <textarea id="contactIssue" placeholder="Describe your issue"></textarea>
    <div class="error" id="contactError"></div>
    <div style="text-align:right; margin-top:8px;">
      <button class="btn" onclick="submitContact()">Submit</button>
    </div>
  </div>

  <h2 id="about" class="section-title">About Us</h2>
  <p style="text-align:center; width:80%; margin:8px auto;">
    Shoppie is a simple demo store. Registration & login are stored only in memory for this demo </p>

  <div class="clear"></div>
  <script>
  let users = [];
  let currentUser = null;
  let cart = [];
  let wishlist = [];
  let orders = [];
  let reviews = [];
  const PRODUCTS = [
    {id:1, title:"Pink Tote Bag", price:499},
    {id:2, title:"Yellow Notebook", price:199},
    {id:3, title:"Desk Lamp", price:799}];
function $(id){ return document.getElementById(id); }

function doRegister(){
  let name = $("regName").value;
  let email = $("regEmail").value;
  let pass = $("regPass").value;

  let msg = $("regError");
  msg.textContent = "";

  if(name==="" || email==="" || pass===""){
    msg.textContent = "Fill all fields.";
    return;
  }

  // check email used
  for(let u of users){
    if(u.email === email){
      msg.textContent = "Email already registered.";
      return;
    }
  }

  users.push({name, email, password:pass});
  msg.style.color="green";
  msg.textContent="Registered! Please login.";
  setTimeout(()=>{ msg.textContent=""; msg.style.color=""; },2000);

  $("regName").value="";
  $("regEmail").value="";
  $("regPass").value="";
}

function doLogin(){
  let email = $("loginEmail").value;
  let pass = $("loginPass").value;
  let msg = $("loginError");
  msg.textContent="";

  for(let u of users){
    if(u.email === email && u.password === pass){
      currentUser = u;
      $("welcome").textContent = "Welcome, " + u.name + "!";
      msg.textContent="";
      $("loginEmail").value="";
      $("loginPass").value="";
      updateCartBtn();
      return;
    }
  }
  msg.textContent="Invalid login.";
}

function addToCart(id){
  if(!currentUser){ alert("Login first."); return; }
  cart.push(id);
  renderCart();
  updateCartBtn();
}

function renderCart(){
  let area = $("cartList");
  area.innerHTML="";

  if(cart.length===0){
    area.innerHTML="<p style='color:#a06;'>Cart is empty</p>";
    return;
  }

  let out="<ul>";
  for(let id of cart){
    let p = PRODUCTS.find(x=>x.id===id);
    out += `<li>${p.title} — ₹${p.price}</li>`;
  }
  out+="</ul>";
  area.innerHTML=out;
}

function updateCartBtn(){
  $("placeOrderBtn").disabled = !(currentUser && cart.length>0);
}

function placeOrder(){
  if(!currentUser){ alert("Login first."); return; }
  if(cart.length===0){ alert("Cart empty."); return; }

  orders.push({
    id: Date.now(),
    items: [...cart],
    time: new Date().toLocaleString()
  });

  cart=[];
  renderCart();
  updateCartBtn();
  renderOrders();
  alert("Order placed!");
}

function renderOrders(){
  let area = $("ordersList");
  area.innerHTML="";

  if(orders.length===0){
    area.innerHTML="<p style='color:#a06;'>No orders yet</p>";
    return;
  }

  let out="<ul>";
  for(let o of orders){
    let items = o.items.map(id=>PRODUCTS.find(p=>p.id===id).title).join(", ");
    out+= `<li>Order #${o.id} - ${items} - ${o.time}</li>`;
  }
  out+="</ul>";
  area.innerHTML=out;
}

function toggleWishlist(id){
  if(!currentUser){ alert("Login first."); return; }

  if(wishlist.includes(id)){
    wishlist = wishlist.filter(x=>x!==id);
  } else {
    wishlist.push(id);
  }

  renderWishlist();
}

function renderWishlist(){
  let area = $("wishlistList");
  area.innerHTML="";

  if(wishlist.length===0){
    area.innerHTML="<p style='color:#a06;'>No wishlist items</p>";
    return;
  }

  let out="<ul>";
  for(let id of wishlist){
    let p = PRODUCTS.find(x=>x.id===id);
    out += `<li>${p.title} — ₹${p.price}</li>`;
  }
  out+="</ul>";

  area.innerHTML=out;
}

function postReview(){
  let text = $("reviewText").value;
  let who = $("reviewAuthor").value;

  if(text===""){
    $("reviewError").textContent="Write something.";
    return;
  }

  reviews.push({
    name: who || (currentUser?currentUser.name:"Guest"),
    text: text,
    time: new Date().toLocaleString()
  });

  $("reviewText").value="";
  $("reviewAuthor").value="";
  $("reviewError").textContent="";
  renderReviews();
}

function renderReviews(){
  let area = $("reviewsList");
  area.innerHTML="";

  if(reviews.length===0){
    area.innerHTML="<p style='color:#a06;'>No reviews yet</p>";
    return;
  }

  let out="";
  for(let r of reviews){
    out += `
      <div style="margin-bottom:10px; border-bottom:1px solid #ffd0dd;">
        <strong>${r.name}</strong> <small>${r.time}</small>
        <p>${r.text}</p>
      </div>`;
  }

  area.innerHTML=out;
}

function submitContact(){
  let n = $("contactName").value;
  let e = $("contactEmail").value;
  let t = $("contactIssue").value;

  if(n==="" || e==="" || t===""){
    $("contactError").textContent="Fill all fields.";
    return;
  }

  $("contactError").style.color="green";
  $("contactError").textContent="Submitted!";
  setTimeout(()=>{
    $("contactError").textContent="";
    $("contactError").style.color="";
  },2000);

  $("contactName").value="";
  $("contactEmail").value="";
  $("contactIssue").value="";
}
</script>
</body>
</html>
